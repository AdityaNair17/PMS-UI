<div class="p-my-4 p-mx-6">
    <div class="p-mb-4">
    <div *ngIf="!patient ; else readEditMode">
        <h2 class="color">Add patient details</h2>
    </div>
    <ng-template #readEditMode>
        <h2 class="color">{{readonlyMode ? 'View patient details': 'Edit patient details'}}</h2>
    </ng-template>
    </div>
    <form [formGroup]="addPatientDetailsForm" (ngSubmit)="onAddPatientDetails()">
        <div formGroupName="basicDetails">
            <div class="formControl-group">
                <mat-form-field appearance="outline">
                    <mat-label>First name</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="First name" formControlName="firstName">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Last name</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="Last name" formControlName="lastName">
                </mat-form-field>
            </div>
            <div class="formControl-group">
                <mat-form-field appearance="outline">
                    <mat-label>Email id</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="Email id" formControlName="emailId">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Date of birth</mat-label>
                    <input matInput [matDatepicker]="picker" placeholder="Date of birth" formControlName="dateOfBirth">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="formControl-group">
                <mat-form-field appearance="outline">
                    <mat-label>Age</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="Age" formControlName="age">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Contact number</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="Contact number" formControlName="contactNo">
                </mat-form-field>
            </div>
            <div class="formControl-group">
                <mat-form-field appearance="outline">
                    <mat-label>Gender</mat-label>
                    <mat-select formControlName="gender" [disabled]="readonlyMode">
                        <mat-option *ngFor="let gender of genderList" [value]="gender">{{gender}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Race</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="Race" formControlName="race">
                </mat-form-field>
            </div>
            <div class="formControl-group">
                <mat-form-field appearance="outline">
                    <mat-label>Ethnicity</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="Ethnicity" formControlName="ethnicity">
                </mat-form-field>
            </div>
        </div>
        <p>Address</p>
        <div formGroupName="address">
            <div class="formControl-group">
                <mat-form-field appearance="outline">
                    <mat-label>LandmarkArea</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="LandmarkArea" formControlName="landmarkArea">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>City</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="City" formControlName="city">
                </mat-form-field>
            </div>
            <div class="formControl-group">
                <mat-form-field appearance="outline">
                    <mat-label>State</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="State" formControlName="state">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Country</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="Country" formControlName="country">
                </mat-form-field>
            </div>
            <div class="formControl-group">
                <mat-form-field appearance="outline">
                    <mat-label>Pin</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="Pin" formControlName="pin">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>AddressType</mat-label>
                    <mat-select formControlName="addressType" [disabled]="readonlyMode">
                        <mat-option value="HOME_ADDRESS">Home address</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <p>Emergency contact info</p>
        <div formGroupName="emergency_Details">
            <div class="formControl-group">
                <mat-form-field appearance="outline">
                    <mat-label>First name</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="First name"
                        formControlName="emergency_first_name">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Last name</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="Last name"
                        formControlName="emergency_last_name">
                </mat-form-field>
            </div>
            <div class="formControl-group">
                <mat-form-field appearance="outline">
                    <mat-label>Email id</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="Email id" formControlName="mailId">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Contact number</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="Contact number"
                        formControlName="emergency_contact_number">
                </mat-form-field>
            </div>
            <div class="formControl-group">
                <mat-form-field appearance="outline">
                    <mat-label>Relationship</mat-label>
                    <input matInput [readonly]="readonlyMode" placeholder="Relationship"
                        formControlName="emergency_relation_ship">
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Do you need access to patient portal?</mat-label>
                    <mat-select formControlName="_access_approved" [disabled]="readonlyMode">
                        <mat-option *ngFor="let access of accessList" [value]="access.value">{{access.name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="formControl-group">
                <mat-form-field appearance="outline">
                    <mat-label>Address</mat-label>
                    <mat-select formControlName="_same_address" [disabled]="readonlyMode">
                        <mat-option [value]=true>Same as home address</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <div class="formControl-group">
            <mat-form-field appearance="outline">
                <mat-label>Languages Known</mat-label>
                <mat-select formControlName="languageKnown" multiple [disabled]="readonlyMode">
                    <mat-option *ngFor="let language of languages" [value]="language.id">{{language.name}}</mat-option>
                </mat-select>
            </mat-form-field>
            <mat-form-field appearance="outline">
                <mat-label>Allergies</mat-label>
                <mat-select formControlName="allergies" multiple [disabled]="readonlyMode">
                    <mat-option *ngFor="let allergie of allergies" [value]="allergie.id">{{allergie.type}}</mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <button mat-stroked-button class="bg-color white-color mb-30" *ngIf="!readonlyMode">{{!!patient ? 'Update
            patient
            details': 'Add patient details'}}</button>
    </form>
</div>